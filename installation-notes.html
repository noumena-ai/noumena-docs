<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Validating Your Installation &#8212; noumena-tql  documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/noumena.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/noumena.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="overview.html">
          Noumena TQL</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="overview.html">Overview</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="overview.html">Programming Guides <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">   Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#what-is-tql">What is TQL?</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#features">Features:</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#data-processing-model">Data Processing Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#where-to-next">Where To Next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">   Key Concepts and Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#timeseries">TimeSeries</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#timelines">Timelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#query">Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#resultset">ResultSet</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#metrics">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#sampling">Sampling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">   Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#demo-projects">Demo Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#importing-tql">Importing TQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#writing-your-first-query">Writing Your First Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#the-tql-expression-language">The TQL Expression Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#column-naming-and-typing">Column Naming and Typing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="importing-data.html">   Importing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="expression-language.html">   Expression Language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#literals">Literals</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#event-attributes">Event Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#booleans-and-logical-operators">Booleans and Logical Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#math-functions">Math Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#statistics-random-numbers-and-hashing">Statistics, Random Numbers, and Hashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#string-manipulation">String Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#date-time-manipulation">Date/Time Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#array-manipulation">Array Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#local-variables-and-multi-statement-expressions">Local Variables and Multi-Statement Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#timeline-scanning-operations">Timeline Scanning Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#the-predict-function">The PREDICT Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#the-set-property-function">The SET_PROPERTY Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#comments">Comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#user-defined-functions-udfs">User Defined Functions (UDFs)</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#compile-and-runtime-error-handling">Compile and Runtime Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#tql-expression-debugger">TQL Expression Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression-language.html#where-to-next">Where To Next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="writing-queries.html">   Writing Queries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="writing-queries.html#the-downsample-by-operator">The downsample_by() Operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing-queries.html#the-options-operator">The options() Operator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user-defined-functions.html">   User Defined Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user-defined-functions.html#table-level-udfs">Table-level UDFs</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-defined-functions.html#query-level-udfs">Query-level UDFs</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-defined-functions.html#inline-expression-udfs">Inline expression UDFs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">   Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#the-noumena-tql-configuration-file">The Noumena TQL Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#modifying-the-configuration">Modifying the Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#configuration-properties">Configuration Properties:</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#install-additional-noumena-jupyter-notebook-content">Install Additional Noumena Jupyter Notebook Content</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="validating-your-installation">
<h1>Validating Your Installation<a class="headerlink" href="#validating-your-installation" title="Permalink to this headline">¶</a></h1>
<p>Use the command line tool <code class="docutils literal notranslate"><span class="pre">noumena</span></code> to validate your installation by running <code class="docutils literal notranslate"><span class="pre">noumena</span> <span class="pre">-h</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(noumena-venv) jshmoe$ noumena -h
usage: noumena [-h]
               {status,conf,start,restart,stop,get-notebooks,test,logs,healthcheck,install-extensions,mlflow}
               ...

Administrate the Noumena backend

positional arguments:
  {status,conf,start,restart,stop,get-notebooks,test,logs,healthcheck,install-extensions,mlflow}
                        operation
    status              get the current status of the backend
    conf                show the current noumena configuration
    start               start the backend if currently running
    restart             restart the backend
    stop                stop the backend if currently running
    get-notebooks       generate notebook content
    test                run tests against the backend, default log location:
                        ~/noumena_test*. It accepts any pytest arguments, for
                        example &quot;noumena test
                        /path/to/a/specific/testcase.py::MyTest&quot;. In addition,
                        any option arguments can be provided by escaping the
                        option with the &quot;@&quot; character,for example &quot;@-s&quot;
    logs                tail logs
    healthcheck         run a healthcheck
    install-extensions  install noumena extensions
    mlflow              start/stop/restart mlflow

optional arguments:
  -h, --help            show this help message and exit
</pre></div>
</div>
</div>
<div class="section" id="manually-starting-the-tql-backend">
<h1>Manually Starting the TQL Backend<a class="headerlink" href="#manually-starting-the-tql-backend" title="Permalink to this headline">¶</a></h1>
<p>The TQL backend can be started at any time using the command <code class="docutils literal notranslate"><span class="pre">noumena</span> <span class="pre">start</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(noumena-venv) jshmoe$ noumena start
[noumena]: starting daedalus... 
[noumena]: starting icarus... success
------------------------------------------------------------------
           Version: 20.1.16
 Version Timestamp: 2021-07-21 17:34:23
       Version Age: 6 days, 17 hours, 42 minutes, 59 seconds
   Filesystem Root: /home/jshmoe/.noumena/files
 Working Directory: /home/jshmoe/.noumena
Configuration File: /home/jshmoe/.noumena/noumena_conf.yml
       Api Gateway: http://localhost:9000
    Service Status: Icarus: ONLINE, Daedalus: ONLINE
    Service Uptime: 0 seconds
------------------------------------------------------------------
</pre></div>
</div>
<p>It is also automatically started any time the TQL package is imported in a Python script or Jupyter Notebook, if not already running.  Refer to the <span class="xref myst">configuration guide</span> for info on how to customize your TQL installation.</p>
</div>
<div class="section" id="installing-java">
<h1>Installing Java:<a class="headerlink" href="#installing-java" title="Permalink to this headline">¶</a></h1>
<p>To validate you have Java installed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ java -version
# you should see something like this:
openjdk version &quot;1.8.0_275&quot;
</pre></div>
</div>
<p>In the case where Java is not 1.8, we need to see what versions of Java are available:</p>
<p>On OSX:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ /usr/libexec/java_home -V 
</pre></div>
</div>
<p>On Linux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ update-alternatives --list java
</pre></div>
</div>
<p>If you DO NOT see java 1.8.x or higher on this list, you need to install it.</p>
<p>On OSX:
The easiest way is via <a class="reference external" href="https://brew.sh/">Homebrew</a>.  See this <a class="reference external" href="https://stackoverflow.com/questions/26252591/mac-os-x-and-multiple-java-versions">link</a> on managing multiple java versions on OSX.<br />
We recommend using <a class="reference external" href="https://github.com/AdoptOpenJDK/homebrew-openjdk">Adopt Open JDK 8</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ brew tap adoptopenjdk/openjdk 
$ brew install --cask adoptopenjdk/openjdk/adoptopenjdk8
# then re-run the java_home command to verify it installed correctly
$ /usr/libexec/java_home -V 
</pre></div>
</div>
<p>Finally, set the environment variable <code class="docutils literal notranslate"><span class="pre">JAVA_HOME</span></code> to the <code class="docutils literal notranslate"><span class="pre">Home</span></code> dir:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ export JAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home&#39;
</pre></div>
</div>
</div>
<div class="section" id="installing-snappy">
<h1>Installing Snappy<a class="headerlink" href="#installing-snappy" title="Permalink to this headline">¶</a></h1>
<p>The snappy compression library is utilized to write timelines and datasets in a space-efficient manner.  Installing the <code class="docutils literal notranslate"><span class="pre">python-snappy</span></code> module does <em>not</em> install snappy, only the python bindings.  Therefore we must first install it separately, if not already installed:</p>
<p>On OSX:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ brew install snappy
$ brew link snappy # sometimes this step is needed
$ pip install python-snappy
and continue with `./bin/dev-environment-setup.sh`
</pre></div>
</div>
<p>On DBM-based Linux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install python3.7 python3.7-venv python3.7-dev
$ CPPFLAGS=&quot;-I/usr/local/include -L/usr/local/lib&quot; pip install python-snappy
</pre></div>
</div>
<p>On RPM-based Linux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo yum install libsnappy-devel or yum install csnappy-devel
</pre></div>
</div>
</div>
<div class="section" id="buidling-a-google-dataproc-for-tql">
<h1>Buidling a Google DataProc for TQL:<a class="headerlink" href="#buidling-a-google-dataproc-for-tql" title="Permalink to this headline">¶</a></h1>
<p>Setting up TQL on Google’s managed cloud computing service is identical to setting it up for Jupyter Notebook usage. Reference: https://cloud.google.com/dataproc/docs/tutorials/jupyter-notebook</p>
<p>When creating a Google DataProc cluster from the web console, Make these changes to the configuration:</p>
<ul class="simple">
<li><p>Enter a custom cluster name</p></li>
<li><p>Change Image Version to: 2.0 (Ubuntu 18.04 LTS, Hadoop 3.2, Spark 3.1)</p></li>
<li><p>Check the Enable component gateway checkbox in the Components section</p></li>
<li><p>Check the Jupyter Notebook checkbox in the Optional components section</p></li>
</ul>
<p>After going through the setup wizard, click the Create button and wait for the cluster to be created (~5 minutes)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/installation-notes.md.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright Nanigans, 2021.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>